diff -rwu ORIGINAL_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java MODIFIED_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java
--- ORIGINAL_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java
+++ MODIFIED_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java
@@ -394,6 +394,8 @@
     }
     Class<?>[] classes = new Class[array.length];
     for (int i = 0; i < array.length; i++) {
+      if (classes == null) continue;
+      if (array[i] == null) continue;
       classes[i] = array[i].getClass();
     }
     return classes;
