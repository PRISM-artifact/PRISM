diff -rwu ORIGINAL_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java MODIFIED_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java
--- ORIGINAL_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java
+++ MODIFIED_PATH/src/main/java/org/apache/commons/lang3/ClassUtils.java
@@ -394,8 +394,10 @@
     }
     Class<?>[] classes = new Class[array.length];
     for (int i = 0; i < array.length; i++) {
+      if (classes != null && array[i] != null) {
       classes[i] = array[i].getClass();
     }
+    }
     return classes;
   }
   public static String getShortCanonicalName(Object object, String valueIfNull) {
