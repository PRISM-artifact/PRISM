diff -rwu ORIGINAL_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java MODIFIED_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
--- ORIGINAL_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
+++ MODIFIED_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
@@ -637,8 +637,8 @@
         ((Token.NAME == right.getType() && right.getString().equals("undefined"))
             || (Token.VOID == right.getType()
                 && NodeUtil.isLiteralValue(right.getFirstChild(), false)));
-    int lhType = left.getType();
-    int rhType = right.getType();
+    int lhType = getNormalizedNodeTypeleft;
+    int rhType = getNormalizedNodeTyperight;
     switch lhType {
       case Token.VOID:
         if (!NodeUtil.isLiteralValue(left.getFirstChild(), false)) {
@@ -773,6 +773,19 @@
     reportCodeChange();
     return newNode;
   }
+  private int getNormalizedNodeType(Node n) {
+    int type = n.getType();
+    if (type == Token.NOT) {
+      TernaryValue value = NodeUtil.getPureBooleanValuen;
+      switch value {
+        case TRUE:
+          return Token.TRUE;
+        case FALSE:
+          return Token.FALSE;
+      }
+    }
+    return type;
+  }
   private Boolean compareAsNumbers(int op, Node left, Node right) {
     Double leftValue = NodeUtil.getNumberValueleft;
     if (leftValue == null) {
