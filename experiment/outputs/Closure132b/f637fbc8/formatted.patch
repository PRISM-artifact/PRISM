diff -rwu ORIGINAL_PATH/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java MODIFIED_PATH/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
--- ORIGINAL_PATH/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
+++ MODIFIED_PATH/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
@@ -479,7 +479,9 @@
           Node lhs = thenOp.getFirstChild();
           if (areNodesEqualForInlining(lhs, elseOp.getFirstChild())
               &&
-              !mayEffectMutableStatelhs) {
+              !mayEffectMutableStatelhs
+              && (!mayHaveSideEffectscond
+                  || (thenOp.isAssign() && thenOp.getFirstChild().isName()))) {
             n.removeChildcond;
             Node assignName = thenOp.removeFirstChild();
             Node thenExpr = thenOp.removeFirstChild();
