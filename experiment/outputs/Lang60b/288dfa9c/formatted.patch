diff -rwu ORIGINAL_PATH/src/java/org/apache/commons/lang/text/StrBuilder.java MODIFIED_PATH/src/java/org/apache/commons/lang/text/StrBuilder.java
--- ORIGINAL_PATH/src/java/org/apache/commons/lang/text/StrBuilder.java
+++ MODIFIED_PATH/src/java/org/apache/commons/lang/text/StrBuilder.java
@@ -784,6 +784,11 @@
     }
   }
   public boolean contains(char ch) {
+    if (buffer.length > length()) {
+      char[] old = buffer;
+      buffer = new char[length()];
+      System.arraycopy(old, 0, buffer, 0, size);
+    }
     char[] thisBuf = buffer;
     for (int i = 0; i < thisBuf.length; i++) {
       if (thisBuf[i] == ch) {
