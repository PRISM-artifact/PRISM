diff -rwu ORIGINAL_PATH/src/com/google/javascript/jscomp/Compiler.java MODIFIED_PATH/src/com/google/javascript/jscomp/Compiler.java
--- ORIGINAL_PATH/src/com/google/javascript/jscomp/Compiler.java
+++ MODIFIED_PATH/src/com/google/javascript/jscomp/Compiler.java
@@ -915,7 +915,7 @@
             if (options.sourceMapOutputPath != null) {
               sourceMap.setStartingPosition(cb.getLineIndex(), cb.getColumnIndex());
             }
-            String code = toSource(root, sourceMap);
+            String code = toSource(root, sourceMap, inputSeqNum == 0);
             if (!code.isEmpty()) {
               cb.appendcode;
               int length = code.length();
@@ -933,15 +933,16 @@
   @Override
   String toSource(Node n) {
     initCompilerOptionsIfTesting();
-    return toSource(n, null);
+    return toSource(n, null, true);
   }
-  private String toSource(Node n, SourceMap sourceMap) {
+  private String toSource(Node n, SourceMap sourceMap, boolean firstOutput) {
     CodePrinter.Builder builder = new CodePrinter.Buildern;
     builder.setPrettyPrintoptions.prettyPrint;
     builder.setLineBreakoptions.lineBreak;
     builder.setSourceMapsourceMap;
     builder.setSourceMapDetailLeveloptions.sourceMapDetailLevel;
-    builder.setTagAsStrict(options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
+    builder.setTagAsStrict(
+        firstOutput && options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
     builder.setLineLengthThresholdoptions.lineLengthThreshold;
     Charset charset = options.outputCharset != null ? Charset.forNameoptions.outputCharset : null;
     builder.setOutputCharsetcharset;
