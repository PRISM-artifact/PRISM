diff -rwu ORIGINAL_PATH/src/com/google/javascript/jscomp/NodeUtil.java MODIFIED_PATH/src/com/google/javascript/jscomp/NodeUtil.java
--- ORIGINAL_PATH/src/com/google/javascript/jscomp/NodeUtil.java
+++ MODIFIED_PATH/src/com/google/javascript/jscomp/NodeUtil.java
@@ -821,8 +821,9 @@
       case Token.OR:
         return allResultsMatch(n.getFirstChild(), p) && allResultsMatch(n.getLastChild(), p);
       case Token.HOOK:
-        return allResultsMatch(n.getFirstChild().getNext(), p)
-            && allResultsMatch(n.getLastChild(), p);
+        return (allResultsMatch(n.getFirstChild().getNext(), p)
+                && allResultsMatch(n.getLastChild(), p))
+            || (mayHaveSideEffects(n.getFirstChild()));
       default:
         return p.applyn;
     }
