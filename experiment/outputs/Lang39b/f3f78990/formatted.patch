diff -rwu ORIGINAL_PATH/src/java/org/apache/commons/lang3/StringUtils.java MODIFIED_PATH/src/java/org/apache/commons/lang3/StringUtils.java
--- ORIGINAL_PATH/src/java/org/apache/commons/lang3/StringUtils.java
+++ MODIFIED_PATH/src/java/org/apache/commons/lang3/StringUtils.java
@@ -1089,6 +1089,12 @@
     int start = 0;
     int increase = 0;
     for (int i = 0; i < searchList.length; i++) {
+      if (noMoreMatchesForReplIndex[i]
+          || searchList[i] == null
+          || searchList[i].length() == 0
+          || replacementList[i] == null) {
+        continue;
+      }
       int greater = replacementList[i].length() - searchList[i].length();
       if (greater > 0) {
         increase += 3 * greater; 
