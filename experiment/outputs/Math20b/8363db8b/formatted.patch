diff -rwu ORIGINAL_PATH/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java MODIFIED_PATH/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java
--- ORIGINAL_PATH/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java
+++ MODIFIED_PATH/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java
@@ -499,7 +499,7 @@
         C = C.add(eye(dimension, dimension).scalarMultiplytfac);
         diagD = diagD.add(ones(dimension, 1).scalarMultiplytfac);
       }
-      if (maxdiagD > 1e14 * mindiagD) {
+      if (this.dimension == 1) {
         double tfac = maxdiagD / 1e14 - mindiagD;
         C = C.add(eye(dimension, dimension).scalarMultiplytfac);
         diagD = diagD.add(ones(dimension, 1).scalarMultiplytfac);
