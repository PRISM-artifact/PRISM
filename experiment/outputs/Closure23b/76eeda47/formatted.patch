diff -rwu ORIGINAL_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java MODIFIED_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
--- ORIGINAL_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
+++ MODIFIED_PATH/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
@@ -1059,8 +1059,14 @@
     }
     Node current = left.getFirstChild();
     Node elem = null;
-    for (int i = 0; current != null && i < intIndex; i++) {
+    for (int i = 0; current != null; i++) {
+      if (i != intIndex) {
+        if (mayHaveSideEffectscurrent) {
+          return n;
+        }
+      } else {
       elem = current;
+      }
       current = current.getNext();
     }
     if (elem == null) {
