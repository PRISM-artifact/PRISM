diff -rwu ORIGINAL_PATH/src/main/java/org/apache/commons/lang3/builder/ToStringStyle.java MODIFIED_PATH/src/main/java/org/apache/commons/lang3/builder/ToStringStyle.java
--- ORIGINAL_PATH/src/main/java/org/apache/commons/lang3/builder/ToStringStyle.java
+++ MODIFIED_PATH/src/main/java/org/apache/commons/lang3/builder/ToStringStyle.java
@@ -2,7 +2,6 @@
 import java.io.Serializable;
 import java.lang.reflect.Array;
 import java.util.Collection;
-import java.util.Collections;
 import java.util.Map;
 import java.util.WeakHashMap;
 import org.apache.commons.lang3.ClassUtils;
@@ -17,11 +16,11 @@
   private static final ThreadLocal<WeakHashMap<Object, Object>> REGISTRY =
       new ThreadLocal<WeakHashMap<Object, Object>>();
   static Map<Object, Object> getRegistry() {
-    return REGISTRY.get() != null ? REGISTRY.get() : Collections.<Object, Object>emptyMap();
+    return REGISTRY.get();
   }
   static boolean isRegistered(Object value) {
     Map<Object, Object> m = getRegistry();
-    return m.containsKeyvalue;
+    return m != null && m.containsKeyvalue;
   }
   static void register(Object value) {
     if (value != null) {
