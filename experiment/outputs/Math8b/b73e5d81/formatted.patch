diff -rwu ORIGINAL_PATH/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java MODIFIED_PATH/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java
--- ORIGINAL_PATH/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java
+++ MODIFIED_PATH/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java
@@ -68,7 +68,9 @@
       throw new NotStrictlyPositiveException(LocalizedFormats.NUMBER_OF_SAMPLES, sampleSize);
     }
     final T[] out =
-        (T[]) java.lang.reflect.Array.newInstance(singletons.get0.getClass(), sampleSize);
+        (T[])
+            java.lang.reflect.Array.newInstance(
+                singletons.get(singletons.size() - 1).getClass(), sampleSize);
     for (int i = 0; i < sampleSize; i++) {
       out[i] = sample();
     }
